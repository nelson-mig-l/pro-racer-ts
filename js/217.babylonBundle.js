"use strict";(self.webpackChunkpro_racer=self.webpackChunkpro_racer||[]).push([[217],{1528:(t,e,s)=>{s.d(e,{BH:()=>l,Gz:()=>p,RN:()=>g,eW:()=>c,nL:()=>d,xW:()=>u});var i=s(972),n=s(3632),o=s(4517),r=s(2078),a=s(7959),h=s(9288);function c(t){const e=[],s=[],i=t.lines,n=t.colors,r=[];let a=0;for(let t=0;t<i.length;t++){const o=i[t];for(let i=0;i<o.length;i++){if(s.push(o[i].x,o[i].y,o[i].z),n){const e=n[t];r.push(e[i].r,e[i].g,e[i].b,e[i].a)}i>0&&(e.push(a-1),e.push(a)),a++}}const h=new o.x;return h.indices=e,h.positions=s,n&&(h.colors=r),h}function l(t){const e=t.dashSize||3,s=t.gapSize||1,n=t.dashNb||200,r=t.points,a=new Array,h=new Array,c=i.P.Zero();let l=0,u=0,d=0,p=0,g=0,_=0,f=0;for(f=0;f<r.length-1;f++)r[f+1].subtractToRef(r[f],c),l+=c.length();for(d=l/n,p=e*d/(e+s),f=0;f<r.length-1;f++){r[f+1].subtractToRef(r[f],c),u=Math.floor(c.length()/d),c.normalize();for(let t=0;t<u;t++)g=d*t,a.push(r[f].x+g*c.x,r[f].y+g*c.y,r[f].z+g*c.z),a.push(r[f].x+(g+p)*c.x,r[f].y+(g+p)*c.y,r[f].z+(g+p)*c.z),h.push(_,_+1),_+=2}const y=new o.x;return y.positions=a,y.indices=h,y}function u(t,e,s){const i=e.instance,n=e.lines,o=e.colors;if(i){const t=i.getVerticesData(a.o.PositionKind);let e,s;o&&(e=i.getVerticesData(a.o.ColorKind));let r=0,h=0;for(let i=0;i<n.length;i++){const a=n[i];for(let n=0;n<a.length;n++)t[r]=a[n].x,t[r+1]=a[n].y,t[r+2]=a[n].z,o&&e&&(s=o[i],e[h]=s[n].r,e[h+1]=s[n].g,e[h+2]=s[n].b,e[h+3]=s[n].a,h+=4),r+=3}return i.updateVerticesData(a.o.PositionKind,t,!1,!1),o&&e&&i.updateVerticesData(a.o.ColorKind,e,!1,!1),i}const h=!!o,l=new r._(t,s,null,void 0,void 0,h,e.useVertexAlpha,e.material);return c(e).applyToMesh(l,e.updatable),l}function d(t,e,s=null){const i=e.colors?[e.colors]:null;return u(t,{lines:[e.points],updatable:e.updatable,instance:e.instance,colors:i,useVertexAlpha:e.useVertexAlpha,material:e.material},s)}function p(t,e,s=null){const o=e.points,a=e.instance,c=e.gapSize||1,u=e.dashSize||3;if(a){const t=t=>{const e=i.P.Zero(),s=t.length/6;let n=0,r=0,h=0,c=0,l=0,u=0,d=0,p=0;for(d=0;d<o.length-1;d++)o[d+1].subtractToRef(o[d],e),n+=e.length();h=n/s;const g=a._creationDataStorage.dashSize;for(c=g*h/(g+a._creationDataStorage.gapSize),d=0;d<o.length-1;d++)for(o[d+1].subtractToRef(o[d],e),r=Math.floor(e.length()/h),e.normalize(),p=0;p<r&&u<t.length;)l=h*p,t[u]=o[d].x+l*e.x,t[u+1]=o[d].y+l*e.y,t[u+2]=o[d].z+l*e.z,t[u+3]=o[d].x+(l+c)*e.x,t[u+4]=o[d].y+(l+c)*e.y,t[u+5]=o[d].z+(l+c)*e.z,u+=6,p++;for(;u<t.length;)t[u]=o[d].x,t[u+1]=o[d].y,t[u+2]=o[d].z,u+=3};return(e.dashNb||e.dashSize||e.gapSize||e.useVertexAlpha||e.material)&&h.Y.Warn("You have used an option other than points with the instance option. Please be aware that these other options will be ignored."),a.updateMeshPositions(t,!1),a}const d=new r._(t,s,null,void 0,void 0,void 0,e.useVertexAlpha,e.material);return l(e).applyToMesh(d,e.updatable),d._creationDataStorage=new n.gW,d._creationDataStorage.dashSize=u,d._creationDataStorage.gapSize=c,d}const g={CreateDashedLines:p,CreateLineSystem:u,CreateLines:d};o.x.CreateLineSystem=c,o.x.CreateDashedLines=l,n.Kj.CreateLines=(t,e,s=null,i=!1,n=null)=>d(t,{points:e,updatable:i,instance:n},s),n.Kj.CreateDashedLines=(t,e,s,i,n,o=null,r,a)=>p(t,{points:e,dashSize:s,gapSize:i,dashNb:n,updatable:r,instance:a},o)},7079:(t,e,s)=>{s.d(e,{LY:()=>c,Ub:()=>l,jM:()=>h});var i=s(972),n=s(3632),o=s(7959),r=s(4517),a=s(3027);function h(t){let e=t.pathArray;const s=t.closeArray||!1,i=t.closePath||!1,n=t.invertUV||!1,h=Math.floor(e[0].length/2);let c=t.offset||h;c=c>h?h:Math.floor(c);const l=0===t.sideOrientation?0:t.sideOrientation||r.x.DEFAULTSIDE,u=t.uvs,d=t.colors,p=[],g=[],_=[],f=[],y=[],m=[],P=[],b=[];let I;const S=[],x=[];let M,B,E;if(e.length<2){const t=[],s=[];for(B=0;B<e[0].length-c;B++)t.push(e[0][B]),s.push(e[0][B+c]);e=[t,s]}let A=0;const v=i?1:0;let D,C,j,R,O,T;for(I=e[0].length,M=0;M<e.length;M++){for(P[M]=0,y[M]=[0],D=e[M],C=D.length,I=I<C?I:C,E=0;E<C;)p.push(D[E].x,D[E].y,D[E].z),E>0&&(j=D[E].subtract(D[E-1]).length(),R=j+P[M],y[M].push(R),P[M]=R),E++;i&&(E--,p.push(D[0].x,D[0].y,D[0].z),j=D[E].subtract(D[0]).length(),R=j+P[M],y[M].push(R),P[M]=R),S[M]=C+v,x[M]=A,A+=C+v}let V,L,w=null,F=null;for(B=0;B<I+v;B++){for(b[B]=0,m[B]=[0],M=0;M<e.length-1;M++)O=e[M],T=e[M+1],B===I?(w=O[0],F=T[0]):(w=O[B],F=T[B]),j=F.subtract(w).length(),R=j+b[B],m[B].push(R),b[B]=R;s&&F&&w&&(O=e[M],T=e[0],B===I&&(F=T[0]),j=F.subtract(w).length(),R=j+b[B],b[B]=R)}if(u)for(M=0;M<u.length;M++)f.push(u[M].x,a.e.UseOpenGLOrientationForUV?1-u[M].y:u[M].y);else for(M=0;M<e.length;M++)for(B=0;B<I+v;B++)V=0!=P[M]?y[M][B]/P[M]:0,L=0!=b[B]?m[B][M]/b[B]:0,n?f.push(L,V):f.push(V,a.e.UseOpenGLOrientationForUV?1-L:L);M=0;let N=0,z=S[M]-1,Q=S[M+1]-1,U=z<Q?z:Q,k=x[1]-x[0];const W=s?S.length:S.length-1;for(;N<=U&&M<W;)g.push(N,N+k,N+1),g.push(N+k+1,N+1,N+k),N+=1,N===U&&(M++,M===S.length-1?(k=x[0]-x[M],z=S[M]-1,Q=S[0]-1):(k=x[M+1]-x[M],z=S[M]-1,Q=S[M+1]-1),N=x[M],U=z<Q?z+N:Q+N);if(r.x.ComputeNormals(p,g,_),i){let t=0,s=0;for(M=0;M<e.length;M++)t=3*x[M],s=M+1<e.length?3*(x[M+1]-1):_.length-3,_[t]=.5*(_[t]+_[s]),_[t+1]=.5*(_[t+1]+_[s+1]),_[t+2]=.5*(_[t+2]+_[s+2]),_[s]=_[t],_[s+1]=_[t+1],_[s+2]=_[t+2]}r.x._ComputeSides(l,p,g,_,f,t.frontUVs,t.backUVs);let K=null;if(d){K=new Float32Array(4*d.length);for(let t=0;t<d.length;t++)K[4*t]=d[t].r,K[4*t+1]=d[t].g,K[4*t+2]=d[t].b,K[4*t+3]=d[t].a}const J=new r.x,G=new Float32Array(p),Y=new Float32Array(_),H=new Float32Array(f);return J.indices=g,J.positions=G,J.normals=Y,J.uvs=H,K&&J.set(K,o.o.ColorKind),i&&(J._idx=x),J}function c(t,e,s=null){const c=e.pathArray,l=e.closeArray,u=e.closePath,d=n.Kj._GetDefaultSideOrientation(e.sideOrientation),p=e.instance,g=e.updatable;if(p){const t=i.jp.Vector3[0].setAll(Number.MAX_VALUE),s=i.jp.Vector3[1].setAll(-Number.MAX_VALUE),h=e=>{let i=c[0].length;const o=p;let r=0;const a=o._originalBuilderSideOrientation===n.Kj.DOUBLESIDE?2:1;for(let n=1;n<=a;++n)for(let n=0;n<c.length;++n){const a=c[n],h=a.length;i=i<h?i:h;for(let n=0;n<i;++n){const i=a[n];e[r]=i.x,e[r+1]=i.y,e[r+2]=i.z,t.minimizeInPlaceFromFloats(i.x,i.y,i.z),s.maximizeInPlaceFromFloats(i.x,i.y,i.z),r+=3}if(o._creationDataStorage&&o._creationDataStorage.closePath){const t=a[0];e[r]=t.x,e[r+1]=t.y,e[r+2]=t.z,r+=3}}},l=p.getVerticesData(o.o.PositionKind);if(h(l),p.hasBoundingInfo?p.getBoundingInfo().reConstruct(t,s,p._worldMatrix):p.buildBoundingInfo(t,s,p._worldMatrix),p.updateVerticesData(o.o.PositionKind,l,!1,!1),e.colors){const t=p.getVerticesData(o.o.ColorKind);for(let s=0,i=0;s<e.colors.length;s++,i+=4){const n=e.colors[s];t[i]=n.r,t[i+1]=n.g,t[i+2]=n.b,t[i+3]=n.a}p.updateVerticesData(o.o.ColorKind,t,!1,!1)}if(e.uvs){const t=p.getVerticesData(o.o.UVKind);for(let s=0;s<e.uvs.length;s++)t[2*s]=e.uvs[s].x,t[2*s+1]=a.e.UseOpenGLOrientationForUV?1-e.uvs[s].y:e.uvs[s].y;p.updateVerticesData(o.o.UVKind,t,!1,!1)}if(!p.areNormalsFrozen||p.isFacetDataEnabled){const t=p.getIndices(),e=p.getVerticesData(o.o.NormalKind),s=p.isFacetDataEnabled?p.getFacetDataParameters():null;if(r.x.ComputeNormals(l,t,e,s),p._creationDataStorage&&p._creationDataStorage.closePath){let t=0,s=0;for(let i=0;i<c.length;i++)t=3*p._creationDataStorage.idx[i],s=i+1<c.length?3*(p._creationDataStorage.idx[i+1]-1):e.length-3,e[t]=.5*(e[t]+e[s]),e[t+1]=.5*(e[t+1]+e[s+1]),e[t+2]=.5*(e[t+2]+e[s+2]),e[s]=e[t],e[s+1]=e[t+1],e[s+2]=e[t+2]}p.areNormalsFrozen||p.updateVerticesData(o.o.NormalKind,e,!1,!1)}return p}{const i=new n.Kj(t,s);i._originalBuilderSideOrientation=d,i._creationDataStorage=new n.gW;const o=h(e);return u&&(i._creationDataStorage.idx=o._idx),i._creationDataStorage.closePath=u,i._creationDataStorage.closeArray=l,o.applyToMesh(i,g),i}}const l={CreateRibbon:c};r.x.CreateRibbon=h,n.Kj.CreateRibbon=(t,e,s=!1,i,n,o,r=!1,a,h)=>c(t,{pathArray:e,closeArray:s,closePath:i,offset:n,updatable:r,sideOrientation:a,instance:h},o)},9590:(t,e,s)=>{s.d(e,{Gc:()=>a,Oy:()=>l,bC:()=>h});var i=s(972),n=s(3632),o=s(7079),r=s(1021);function a(t,e,s=null){const i=e.path,o=e.shape,r=e.scale||1,a=e.rotation||0,h=0===e.cap?0:e.cap||n.Kj.NO_CAP,l=e.updatable,u=n.Kj._GetDefaultSideOrientation(e.sideOrientation),d=e.instance||null,p=e.invertUV||!1,g=e.closeShape||!1;return c(t,o,i,r,a,null,null,e.closePath||!1,g,h,!1,s,!!l,u,d,p,e.frontUVs||null,e.backUVs||null,e.firstNormal||null,!!e.adjustFrame)}function h(t,e,s=null){const i=e.path,o=e.shape,r=e.scaleFunction||(()=>1),a=e.rotationFunction||(()=>0),h=e.closePath||e.ribbonCloseArray||!1,l=e.closeShape||e.ribbonClosePath||!1,u=0===e.cap?0:e.cap||n.Kj.NO_CAP,d=e.updatable,p=e.firstNormal||null,g=e.adjustFrame||!1;return c(t,o,i,null,null,r,a,h,l,u,!0,s,!!d,n.Kj._GetDefaultSideOrientation(e.sideOrientation),e.instance||null,e.invertUV||!1,e.frontUVs||null,e.backUVs||null,p,g)}function c(t,e,s,a,h,c,l,u,d,p,g,_,f,y,m,P,b,I,S,x){const M=(t,e,s,o,r,a,h,c,l,u,d)=>{const p=s.getTangents(),g=s.getNormals(),_=s.getBinormals(),f=s.getDistances();if(d)for(let t=0;t<p.length;t++)if(0==p[t].x&&0==p[t].y&&0==p[t].z&&p[t].copyFrom(p[t-1]),0==g[t].x&&0==g[t].y&&0==g[t].z&&g[t].copyFrom(g[t-1]),0==_[t].x&&0==_[t].y&&0==_[t].z&&_[t].copyFrom(_[t-1]),t>0){let e=p[t-1];i.P.Dot(e,p[t])<0&&p[t].scaleInPlace(-1),e=g[t-1],i.P.Dot(e,g[t])<0&&g[t].scaleInPlace(-1),e=_[t-1],i.P.Dot(e,_[t])<0&&_[t].scaleInPlace(-1)}let y=0;const m=u&&c?c:()=>null!==a?a:0,P=u&&h?h:()=>null!==r?r:1;let b=l===n.Kj.NO_CAP||l===n.Kj.CAP_END?0:2;const I=i.jp.Matrix[0];for(let s=0;s<e.length;s++){const n=new Array,r=m(s,f[s]),a=P(s,f[s]);i.y3.RotationAxisToRef(p[s],y,I);for(let o=0;o<t.length;o++){const r=p[s].scale(t[o].z).add(g[s].scale(t[o].x)).add(_[s].scale(t[o].y)),h=i.P.Zero();i.P.TransformCoordinatesToRef(r,I,h),h.scaleInPlace(a).addInPlace(e[s]),n[o]=h}o[b]=n,y+=r,b++}const S=t=>{const e=Array(),s=i.P.Zero();let n;for(n=0;n<t.length;n++)s.addInPlace(t[n]);for(s.scaleInPlace(1/t.length),n=0;n<t.length;n++)e.push(s);return e};switch(l){case n.Kj.NO_CAP:break;case n.Kj.CAP_START:o[0]=S(o[2]),o[1]=o[2];break;case n.Kj.CAP_END:o[b]=o[b-1],o[b+1]=S(o[b-1]);break;case n.Kj.CAP_ALL:o[0]=S(o[2]),o[1]=o[2],o[b]=o[b-1],o[b+1]=S(o[b-1])}return o};let B,E;if(m){const t=m._creationDataStorage;return B=S?t.path3D.update(s,S):t.path3D.update(s),E=M(e,s,t.path3D,t.pathArray,a,h,c,l,t.cap,g,x),(0,o.LY)("",{pathArray:E,closeArray:!1,closePath:!1,offset:0,updatable:!1,sideOrientation:0,instance:m},_||void 0)}B=S?new r.$B(s,S):new r.$B(s),E=M(e,s,B,new Array,a,h,c,l,p=p<0||p>3?0:p,g,x);const A=(0,o.LY)(t,{pathArray:E,closeArray:u,closePath:d,updatable:f,sideOrientation:y,invertUV:P,frontUVs:b||void 0,backUVs:I||void 0},_);return A._creationDataStorage.pathArray=E,A._creationDataStorage.path3D=B,A._creationDataStorage.cap=p,A}const l={ExtrudeShape:a,ExtrudeShapeCustom:h};n.Kj.ExtrudeShape=(t,e,s,i,o,r,h=null,c,l,u)=>a(t,{shape:e,path:s,scale:i,rotation:o,cap:0===r?0:r||n.Kj.NO_CAP,sideOrientation:l,instance:u,updatable:c},h),n.Kj.ExtrudeShapeCustom=(t,e,s,i,o,r,a,c,l,u,d,p)=>h(t,{shape:e,path:s,scaleFunction:i,rotationFunction:o,ribbonCloseArray:r,ribbonClosePath:a,cap:0===c?0:c||n.Kj.NO_CAP,sideOrientation:d,instance:p,updatable:u},l)},6906:(t,e,s)=>{s.d(e,{S:()=>l});var i=s(972),n=s(9288),o=s(7257),r=s(3632),a=s(1369),h=s(4482),c=s(7959);r.Kj._instancedMeshFactory=(t,e)=>{const s=new l(t,e);if(e.instancedBuffers){s.instancedBuffers={};for(const t in e.instancedBuffers)s.instancedBuffers[t]=e.instancedBuffers[t]}return s};class l extends o.x{constructor(t,e){super(t,e.getScene()),this._indexInSourceMeshInstanceArray=-1,this._distanceToCamera=0,e.addInstance(this),this._sourceMesh=e,this._unIndexed=e._unIndexed,this.position.copyFrom(e.position),this.rotation.copyFrom(e.rotation),this.scaling.copyFrom(e.scaling),e.rotationQuaternion&&(this.rotationQuaternion=e.rotationQuaternion.clone()),this.animations=e.animations.slice();for(const t of e.getAnimationRanges())null!=t&&this.createAnimationRange(t.name,t.from,t.to);this.infiniteDistance=e.infiniteDistance,this.setPivotMatrix(e.getPivotMatrix()),this.refreshBoundingInfo(!0,!0),this._syncSubMeshes()}getClassName(){return"InstancedMesh"}get lightSources(){return this._sourceMesh._lightSources}_resyncLightSources(){}_resyncLightSource(){}_removeLightSource(){}get receiveShadows(){return this._sourceMesh.receiveShadows}get material(){return this._sourceMesh.material}get visibility(){return this._sourceMesh.visibility}get skeleton(){return this._sourceMesh.skeleton}get renderingGroupId(){return this._sourceMesh.renderingGroupId}set renderingGroupId(t){this._sourceMesh&&t!==this._sourceMesh.renderingGroupId&&n.Y.Warn("Note - setting renderingGroupId of an instanced mesh has no effect on the scene")}getTotalVertices(){return this._sourceMesh?this._sourceMesh.getTotalVertices():0}getTotalIndices(){return this._sourceMesh.getTotalIndices()}get sourceMesh(){return this._sourceMesh}createInstance(t){return this._sourceMesh.createInstance(t)}isReady(t=!1){return this._sourceMesh.isReady(t,!0)}getVerticesData(t,e){return this._sourceMesh.getVerticesData(t,e)}setVerticesData(t,e,s,i){return this.sourceMesh&&this.sourceMesh.setVerticesData(t,e,s,i),this.sourceMesh}updateVerticesData(t,e,s,i){return this.sourceMesh&&this.sourceMesh.updateVerticesData(t,e,s,i),this.sourceMesh}setIndices(t,e=null){return this.sourceMesh&&this.sourceMesh.setIndices(t,e),this.sourceMesh}isVerticesDataPresent(t){return this._sourceMesh.isVerticesDataPresent(t)}getIndices(){return this._sourceMesh.getIndices()}get _positions(){return this._sourceMesh._positions}refreshBoundingInfo(t=!1,e=!1){if(this.hasBoundingInfo&&this.getBoundingInfo().isLocked)return this;const s=this._sourceMesh.geometry?this._sourceMesh.geometry.boundingBias:null;return this._refreshBoundingInfo(this._sourceMesh._getPositionData(t,e),s),this}_preActivate(){return this._currentLOD&&this._currentLOD._preActivate(),this}_activate(t,e){if(super._activate(t,e),this._sourceMesh.subMeshes||n.Y.Warn("Instances should only be created for meshes with geometry."),this._currentLOD){if(this._currentLOD._getWorldMatrixDeterminant()>=0!=this._getWorldMatrixDeterminant()>=0)return this._internalAbstractMeshDataInfo._actAsRegularMesh=!0,!0;if(this._internalAbstractMeshDataInfo._actAsRegularMesh=!1,this._currentLOD._registerInstanceForRenderId(this,t),e){if(!this._currentLOD._internalAbstractMeshDataInfo._isActiveIntermediate)return this._currentLOD._internalAbstractMeshDataInfo._onlyForInstancesIntermediate=!0,!0}else if(!this._currentLOD._internalAbstractMeshDataInfo._isActive)return this._currentLOD._internalAbstractMeshDataInfo._onlyForInstances=!0,!0}return!1}_postActivate(){this._sourceMesh.edgesShareWithInstances&&this._sourceMesh._edgesRenderer&&this._sourceMesh._edgesRenderer.isEnabled&&this._sourceMesh._renderingGroup?(this._sourceMesh._renderingGroup._edgesRenderers.pushNoDuplicate(this._sourceMesh._edgesRenderer),this._sourceMesh._edgesRenderer.customInstances.push(this.getWorldMatrix())):this._edgesRenderer&&this._edgesRenderer.isEnabled&&this._sourceMesh._renderingGroup&&this._sourceMesh._renderingGroup._edgesRenderers.push(this._edgesRenderer)}getWorldMatrix(){if(this._currentLOD&&this._currentLOD.billboardMode!==h.Y.BILLBOARDMODE_NONE&&this._currentLOD._masterMesh!==this){this._billboardWorldMatrix||(this._billboardWorldMatrix=new i.y3);const t=this._currentLOD._masterMesh;return this._currentLOD._masterMesh=this,i.jp.Vector3[7].copyFrom(this._currentLOD.position),this._currentLOD.position.set(0,0,0),this._billboardWorldMatrix.copyFrom(this._currentLOD.computeWorldMatrix(!0)),this._currentLOD.position.copyFrom(i.jp.Vector3[7]),this._currentLOD._masterMesh=t,this._billboardWorldMatrix}return super.getWorldMatrix()}get isAnInstance(){return!0}getLOD(t){if(!t)return this;const e=this.sourceMesh.getLODLevels();if(e&&0!==e.length){const e=this.getBoundingInfo();this._currentLOD=this.sourceMesh.getLOD(t,e.boundingSphere)}else this._currentLOD=this.sourceMesh;return this._currentLOD}_preActivateForIntermediateRendering(t){return this.sourceMesh._preActivateForIntermediateRendering(t)}_syncSubMeshes(){if(this.releaseSubMeshes(),this._sourceMesh.subMeshes)for(let t=0;t<this._sourceMesh.subMeshes.length;t++)this._sourceMesh.subMeshes[t].clone(this,this._sourceMesh);return this}_generatePointsArray(){return this._sourceMesh._generatePointsArray()}_updateBoundingInfo(){return this.hasBoundingInfo?this.getBoundingInfo().update(this.worldMatrixFromCache):this.buildBoundingInfo(this.absolutePosition,this.absolutePosition,this.worldMatrixFromCache),this._updateSubMeshesBoundingInfo(this.worldMatrixFromCache),this}clone(t,e=null,s,i){const n=(i||this._sourceMesh).createInstance(t);if(a.j.DeepCopy(this,n,["name","subMeshes","uniqueId","parent","lightSources","receiveShadows","material","visibility","skeleton","sourceMesh","isAnInstance","facetNb","isFacetDataEnabled","isBlocked","useBones","hasInstances","collider","edgesRenderer","forward","up","right","absolutePosition","absoluteScaling","absoluteRotationQuaternion","isWorldMatrixFrozen","nonUniformScaling","behaviors","worldMatrixFromCache","hasThinInstances","hasBoundingInfo"],[]),this.refreshBoundingInfo(),e&&(n.parent=e),!s)for(let t=0;t<this.getScene().meshes.length;t++){const e=this.getScene().meshes[t];e.parent===this&&e.clone(e.name,n)}return n.computeWorldMatrix(!0),this.onClonedObservable.notifyObservers(n),n}dispose(t,e=!1){this._sourceMesh.removeInstance(this),super.dispose(t,e)}_serializeAsParent(t){super._serializeAsParent(t),t.parentId=this._sourceMesh.uniqueId,t.parentInstanceIndex=this._indexInSourceMeshInstanceArray}instantiateHierarchy(t=null,e,s){const i=this.clone("Clone of "+(this.name||this.id),t||this.parent,!0,e&&e.newSourcedMesh);i&&s&&s(this,i);for(const t of this.getChildTransformNodes(!0))t.instantiateHierarchy(i,e,s);return i}}r.Kj.prototype.registerInstancedBuffer=function(t,e){var s,i;if(null===(i=null===(s=this._userInstancedBuffersStorage)||void 0===s?void 0:s.vertexBuffers[t])||void 0===i||i.dispose(),!this.instancedBuffers){this.instancedBuffers={};for(const t of this.instances)t.instancedBuffers={};this._userInstancedBuffersStorage||(this._userInstancedBuffersStorage={data:{},vertexBuffers:{},strides:{},sizes:{},vertexArrayObjects:this.getEngine().getCaps().vertexArrayObject?{}:void 0})}this.instancedBuffers[t]=null,this._userInstancedBuffersStorage.strides[t]=e,this._userInstancedBuffersStorage.sizes[t]=32*e,this._userInstancedBuffersStorage.data[t]=new Float32Array(this._userInstancedBuffersStorage.sizes[t]),this._userInstancedBuffersStorage.vertexBuffers[t]=new c.o(this.getEngine(),this._userInstancedBuffersStorage.data[t],t,!0,!1,e,!0);for(const e of this.instances)e.instancedBuffers[t]=null;this._invalidateInstanceVertexArrayObject(),this._markSubMeshesAsAttributesDirty()},r.Kj.prototype._processInstancedBuffers=function(t,e){const s=t?t.length:0;for(const i in this.instancedBuffers){let n=this._userInstancedBuffersStorage.sizes[i];const o=this._userInstancedBuffersStorage.strides[i],r=(s+1)*o;for(;n<r;)n*=2;this._userInstancedBuffersStorage.data[i].length!=n&&(this._userInstancedBuffersStorage.data[i]=new Float32Array(n),this._userInstancedBuffersStorage.sizes[i]=n,this._userInstancedBuffersStorage.vertexBuffers[i]&&(this._userInstancedBuffersStorage.vertexBuffers[i].dispose(),this._userInstancedBuffersStorage.vertexBuffers[i]=null));const a=this._userInstancedBuffersStorage.data[i];let h=0;if(e){const t=this.instancedBuffers[i];t.toArray?t.toArray(a,h):t.copyToArray?t.copyToArray(a,h):a[h]=t,h+=o}for(let e=0;e<s;e++){const s=t[e].instancedBuffers[i];s.toArray?s.toArray(a,h):s.copyToArray?s.copyToArray(a,h):a[h]=s,h+=o}this._userInstancedBuffersStorage.vertexBuffers[i]?this._userInstancedBuffersStorage.vertexBuffers[i].updateDirectly(a,0):(this._userInstancedBuffersStorage.vertexBuffers[i]=new c.o(this.getEngine(),this._userInstancedBuffersStorage.data[i],i,!0,!1,o,!0),this._invalidateInstanceVertexArrayObject())}},r.Kj.prototype._invalidateInstanceVertexArrayObject=function(){if(this._userInstancedBuffersStorage&&void 0!==this._userInstancedBuffersStorage.vertexArrayObjects){for(const t in this._userInstancedBuffersStorage.vertexArrayObjects)this.getEngine().releaseVertexArrayObject(this._userInstancedBuffersStorage.vertexArrayObjects[t]);this._userInstancedBuffersStorage.vertexArrayObjects={}}},r.Kj.prototype._disposeInstanceSpecificData=function(){for(this._instanceDataStorage.instancesBuffer&&(this._instanceDataStorage.instancesBuffer.dispose(),this._instanceDataStorage.instancesBuffer=null);this.instances.length;)this.instances[0].dispose();for(const t in this.instancedBuffers)this._userInstancedBuffersStorage.vertexBuffers[t]&&this._userInstancedBuffersStorage.vertexBuffers[t].dispose();this._invalidateInstanceVertexArrayObject(),this.instancedBuffers={}}},2078:(t,e,s)=>{s.d(e,{E:()=>l,_:()=>c});var i=s(9859),n=s(7959),o=s(3632),r=s(6906),a=s(9061),h=s(3778);s(3135),s(6789),o.Kj._LinesMeshParser=(t,e)=>c.Parse(t,e);class c extends o.Kj{constructor(t,e=null,s=null,o=null,r,a,c,l){super(t,e,s,o,r),this.useVertexColor=a,this.useVertexAlpha=c,this.color=new i.Wo(1,1,1),this.alpha=1,o&&(this.color=o.color.clone(),this.alpha=o.alpha,this.useVertexColor=o.useVertexColor,this.useVertexAlpha=o.useVertexAlpha),this.intersectionThreshold=.1;const u={attributes:[n.o.PositionKind],uniforms:["vClipPlane","vClipPlane2","vClipPlane3","vClipPlane4","vClipPlane5","vClipPlane6","world","viewProjection"],needAlphaBlending:!0,defines:[],useClipPlane:null};!1===c?u.needAlphaBlending=!1:u.defines.push("#define VERTEXALPHA"),a?(u.defines.push("#define VERTEXCOLOR"),u.attributes.push(n.o.ColorKind)):(u.uniforms.push("color"),this._color4=new i.HE),this.material=l||new h.j("colorShader",this.getScene(),"color",u,!1)}_isShaderMaterial(t){return"ShaderMaterial"===t.getClassName()}isReady(){return!!this._lineMaterial.isReady(this,!!this._userInstancedBuffersStorage)&&super.isReady()}getClassName(){return"LinesMesh"}get material(){return this._lineMaterial}set material(t){this._lineMaterial=t,this._lineMaterial.fillMode=a.F.LineListDrawMode}get checkCollisions(){return!1}set checkCollisions(t){}_bind(){if(!this._geometry)return this;const t=this._lineMaterial.getEffect(),e=this.isUnIndexed?null:this._geometry.getIndexBuffer();if(this._userInstancedBuffersStorage?this._geometry._bind(t,e,this._userInstancedBuffersStorage.vertexBuffers,this._userInstancedBuffersStorage.vertexArrayObjects):this._geometry._bind(t,e),!this.useVertexColor&&this._isShaderMaterial(this._lineMaterial)){const{r:t,g:e,b:s}=this.color;this._color4.set(t,e,s,this.alpha),this._lineMaterial.setColor4("color",this._color4)}return this}_draw(t,e,s){if(!this._geometry||!this._geometry.getVertexBuffers()||!this._unIndexed&&!this._geometry.getIndexBuffer())return this;const i=this.getScene().getEngine();return this._unIndexed?i.drawArraysType(a.F.LineListDrawMode,t.verticesStart,t.verticesCount,s):i.drawElementsType(a.F.LineListDrawMode,t.indexStart,t.indexCount,s),this}dispose(t){this._lineMaterial.dispose(!1,!1,!0),super.dispose(t)}clone(t,e=null,s){return new c(t,this.getScene(),e,this,s)}createInstance(t){const e=new l(t,this);if(this.instancedBuffers){e.instancedBuffers={};for(const t in this.instancedBuffers)e.instancedBuffers[t]=this.instancedBuffers[t]}return e}serialize(t){super.serialize(t),t.color=this.color.asArray(),t.alpha=this.alpha}static Parse(t,e){const s=new c(t.name,e);return s.color=i.Wo.FromArray(t.color),s.alpha=t.alpha,s}}class l extends r.S{constructor(t,e){super(t,e),this.intersectionThreshold=e.intersectionThreshold}getClassName(){return"InstancedLinesMesh"}}},9635:(t,e,s)=>{s.d(e,{Q:()=>l});var i=s(9288),n=s(2085),o=s(972),r=s(7257),a=s(3632),h=s(7504),c=s(730);a.Kj._PhysicsImpostorParser=function(t,e,s){return new l(e,s.physicsImpostor,{mass:s.physicsMass,friction:s.physicsFriction,restitution:s.physicsRestitution},t)};class l{constructor(t,e,s={mass:0},n){this.object=t,this.type=e,this._options=s,this._scene=n,this._pluginData={},this._bodyUpdateRequired=!1,this._onBeforePhysicsStepCallbacks=new Array,this._onAfterPhysicsStepCallbacks=new Array,this._onPhysicsCollideCallbacks=[],this._deltaPosition=o.P.Zero(),this._isDisposed=!1,this.soft=!1,this.segments=0,this._tmpQuat=new o._f,this._tmpQuat2=new o._f,this.beforeStep=()=>{this._physicsEngine&&(this.object.translate(this._deltaPosition,-1),this._deltaRotationConjugated&&this.object.rotationQuaternion&&this.object.rotationQuaternion.multiplyToRef(this._deltaRotationConjugated,this.object.rotationQuaternion),this.object.computeWorldMatrix(!1),this.object.parent&&this.object.rotationQuaternion?(this.getParentsRotation(),this._tmpQuat.multiplyToRef(this.object.rotationQuaternion,this._tmpQuat)):this._tmpQuat.copyFrom(this.object.rotationQuaternion||new o._f),this._options.disableBidirectionalTransformation||this.object.rotationQuaternion&&this._physicsEngine.getPhysicsPlugin().setPhysicsBodyTransformation(this,this.object.getAbsolutePosition(),this._tmpQuat),this._onBeforePhysicsStepCallbacks.forEach((t=>{t(this)})))},this.afterStep=()=>{this._physicsEngine&&(this._onAfterPhysicsStepCallbacks.forEach((t=>{t(this)})),this._physicsEngine.getPhysicsPlugin().setTransformationFromPhysicsBody(this),this.object.parent&&this.object.rotationQuaternion&&(this.getParentsRotation(),this._tmpQuat.conjugateInPlace(),this._tmpQuat.multiplyToRef(this.object.rotationQuaternion,this.object.rotationQuaternion)),this.object.setAbsolutePosition(this.object.position),this._deltaRotation?(this.object.rotationQuaternion&&this.object.rotationQuaternion.multiplyToRef(this._deltaRotation,this.object.rotationQuaternion),this._deltaPosition.applyRotationQuaternionToRef(this._deltaRotation,l._TmpVecs[0]),this.object.translate(l._TmpVecs[0],1)):this.object.translate(this._deltaPosition,1),this.object.computeWorldMatrix(!0))},this.onCollideEvent=null,this.onCollide=t=>{if(!this._onPhysicsCollideCallbacks.length&&!this.onCollideEvent)return;if(!this._physicsEngine)return;const e=this._physicsEngine.getImpostorWithPhysicsBody(t.body);e&&(this.onCollideEvent&&this.onCollideEvent(this,e),this._onPhysicsCollideCallbacks.filter((t=>-1!==t.otherImpostors.indexOf(e))).forEach((s=>{s.callback(this,e,t.point,t.distance,t.impulse,t.normal)})))},this.object?(this.object.parent&&0!==s.mass&&i.Y.Warn("A physics impostor has been created for an object which has a parent. Babylon physics currently works in local space so unexpected issues may occur."),!this._scene&&t.getScene&&(this._scene=t.getScene()),this._scene&&(this.type>100&&(this.soft=!0),this._physicsEngine=this._scene.getPhysicsEngine(),this._physicsEngine?(this.object.rotationQuaternion||(this.object.rotation?this.object.rotationQuaternion=o._f.RotationYawPitchRoll(this.object.rotation.y,this.object.rotation.x,this.object.rotation.z):this.object.rotationQuaternion=new o._f),this._options.mass=void 0===s.mass?0:s.mass,this._options.friction=void 0===s.friction?.2:s.friction,this._options.restitution=void 0===s.restitution?.2:s.restitution,this.soft&&(this._options.mass=this._options.mass>0?this._options.mass:1,this._options.pressure=void 0===s.pressure?200:s.pressure,this._options.stiffness=void 0===s.stiffness?1:s.stiffness,this._options.velocityIterations=void 0===s.velocityIterations?20:s.velocityIterations,this._options.positionIterations=void 0===s.positionIterations?20:s.positionIterations,this._options.fixedPoints=void 0===s.fixedPoints?0:s.fixedPoints,this._options.margin=void 0===s.margin?0:s.margin,this._options.damping=void 0===s.damping?0:s.damping,this._options.path=void 0===s.path?null:s.path,this._options.shape=void 0===s.shape?null:s.shape),this._joints=[],!this.object.parent||this._options.ignoreParent?this._init():this.object.parent.physicsImpostor&&i.Y.Warn("You must affect impostors to children before affecting impostor to parent.")):i.Y.Error("Physics not enabled. Please use scene.enablePhysics(...) before creating impostors."))):i.Y.Error("No object was provided. A physics object is obligatory")}get isDisposed(){return this._isDisposed}get mass(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getBodyMass(this):0}set mass(t){this.setMass(t)}get friction(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getBodyFriction(this):0}set friction(t){this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setBodyFriction(this,t)}get restitution(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getBodyRestitution(this):0}set restitution(t){this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setBodyRestitution(this,t)}get pressure(){if(!this._physicsEngine)return 0;const t=this._physicsEngine.getPhysicsPlugin();return t.setBodyPressure?t.getBodyPressure(this):0}set pressure(t){if(!this._physicsEngine)return;const e=this._physicsEngine.getPhysicsPlugin();e.setBodyPressure&&e.setBodyPressure(this,t)}get stiffness(){if(!this._physicsEngine)return 0;const t=this._physicsEngine.getPhysicsPlugin();return t.getBodyStiffness?t.getBodyStiffness(this):0}set stiffness(t){if(!this._physicsEngine)return;const e=this._physicsEngine.getPhysicsPlugin();e.setBodyStiffness&&e.setBodyStiffness(this,t)}get velocityIterations(){if(!this._physicsEngine)return 0;const t=this._physicsEngine.getPhysicsPlugin();return t.getBodyVelocityIterations?t.getBodyVelocityIterations(this):0}set velocityIterations(t){if(!this._physicsEngine)return;const e=this._physicsEngine.getPhysicsPlugin();e.setBodyVelocityIterations&&e.setBodyVelocityIterations(this,t)}get positionIterations(){if(!this._physicsEngine)return 0;const t=this._physicsEngine.getPhysicsPlugin();return t.getBodyPositionIterations?t.getBodyPositionIterations(this):0}set positionIterations(t){if(!this._physicsEngine)return;const e=this._physicsEngine.getPhysicsPlugin();e.setBodyPositionIterations&&e.setBodyPositionIterations(this,t)}_init(){this._physicsEngine&&(this._physicsEngine.removeImpostor(this),this.physicsBody=null,this._parent=this._parent||this._getPhysicsParent(),this._isDisposed||this.parent&&!this._options.ignoreParent||this._physicsEngine.addImpostor(this))}_getPhysicsParent(){return this.object.parent instanceof r.x?this.object.parent.physicsImpostor:null}isBodyInitRequired(){return this._bodyUpdateRequired||!this._physicsBody&&(!this._parent||!!this._options.ignoreParent)}setScalingUpdated(){this.forceUpdate()}forceUpdate(){this._init(),this.parent&&!this._options.ignoreParent&&this.parent.forceUpdate()}get physicsBody(){return this._parent&&!this._options.ignoreParent?this._parent.physicsBody:this._physicsBody}get parent(){return!this._options.ignoreParent&&this._parent?this._parent:null}set parent(t){this._parent=t}set physicsBody(t){this._physicsBody&&this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().removePhysicsBody(this),this._physicsBody=t,this.resetUpdateFlags()}resetUpdateFlags(){this._bodyUpdateRequired=!1}getObjectExtents(){if(this.object.getBoundingInfo){const t=this.object.rotationQuaternion,e=this.object.scaling.clone();this.object.rotationQuaternion=l.IDENTITY_QUATERNION;const s=this.object.computeWorldMatrix&&this.object.computeWorldMatrix(!0);s&&s.decompose(e,void 0,void 0);const i=this.object.getBoundingInfo().boundingBox.extendSize.scale(2).multiplyInPlace(e);return i.x=Math.abs(i.x),i.y=Math.abs(i.y),i.z=Math.abs(i.z),this.object.rotationQuaternion=t,this.object.computeWorldMatrix&&this.object.computeWorldMatrix(!0),i}return l.DEFAULT_OBJECT_SIZE}getObjectCenter(){return this.object.getBoundingInfo?this.object.getBoundingInfo().boundingBox.centerWorld:this.object.position}getParam(t){return this._options[t]}setParam(t,e){this._options[t]=e,this._bodyUpdateRequired=!0}setMass(t){this.getParam("mass")!==t&&this.setParam("mass",t),this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setBodyMass(this,t)}getLinearVelocity(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getLinearVelocity(this):o.P.Zero()}setLinearVelocity(t){this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setLinearVelocity(this,t)}getAngularVelocity(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getAngularVelocity(this):o.P.Zero()}setAngularVelocity(t){this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setAngularVelocity(this,t)}executeNativeFunction(t){this._physicsEngine&&t(this._physicsEngine.getPhysicsPlugin().world,this.physicsBody)}registerBeforePhysicsStep(t){this._onBeforePhysicsStepCallbacks.push(t)}unregisterBeforePhysicsStep(t){const e=this._onBeforePhysicsStepCallbacks.indexOf(t);e>-1?this._onBeforePhysicsStepCallbacks.splice(e,1):i.Y.Warn("Function to remove was not found")}registerAfterPhysicsStep(t){this._onAfterPhysicsStepCallbacks.push(t)}unregisterAfterPhysicsStep(t){const e=this._onAfterPhysicsStepCallbacks.indexOf(t);e>-1?this._onAfterPhysicsStepCallbacks.splice(e,1):i.Y.Warn("Function to remove was not found")}registerOnPhysicsCollide(t,e){const s=t instanceof Array?t:[t];this._onPhysicsCollideCallbacks.push({callback:e,otherImpostors:s})}unregisterOnPhysicsCollide(t,e){const s=t instanceof Array?t:[t];let n=-1;this._onPhysicsCollideCallbacks.some(((t,i)=>{if(t.callback===e&&t.otherImpostors.length===s.length){const e=t.otherImpostors.every((t=>s.indexOf(t)>-1));return e&&(n=i),e}return!1}))?this._onPhysicsCollideCallbacks.splice(n,1):i.Y.Warn("Function to remove was not found")}getParentsRotation(){let t=this.object.parent;for(this._tmpQuat.copyFromFloats(0,0,0,1);t;)t.rotationQuaternion?this._tmpQuat2.copyFrom(t.rotationQuaternion):o._f.RotationYawPitchRollToRef(t.rotation.y,t.rotation.x,t.rotation.z,this._tmpQuat2),this._tmpQuat.multiplyToRef(this._tmpQuat2,this._tmpQuat),t=t.parent;return this._tmpQuat}applyForce(t,e){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().applyForce(this,t,e),this}applyImpulse(t,e){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().applyImpulse(this,t,e),this}createJoint(t,e,s){const i=new h.q7(e,s);return this.addJoint(t,i),this}addJoint(t,e){return this._joints.push({otherImpostor:t,joint:e}),this._physicsEngine&&this._physicsEngine.addJoint(this,t,e),this}addAnchor(t,e,s,i,n){if(!this._physicsEngine)return this;const o=this._physicsEngine.getPhysicsPlugin();return o.appendAnchor?(this._physicsEngine&&o.appendAnchor(this,t,e,s,i,n),this):this}addHook(t,e,s,i){if(!this._physicsEngine)return this;const n=this._physicsEngine.getPhysicsPlugin();return n.appendAnchor?(this._physicsEngine&&n.appendHook(this,t,e,s,i),this):this}sleep(){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().sleepBody(this),this}wakeUp(){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().wakeUpBody(this),this}clone(t){return t?new l(t,this.type,this._options,this._scene):null}dispose(){this._physicsEngine&&(this._joints.forEach((t=>{this._physicsEngine&&this._physicsEngine.removeJoint(this,t.otherImpostor,t.joint)})),this._physicsEngine.removeImpostor(this),this.parent&&this.parent.forceUpdate(),this._isDisposed=!0)}setDeltaPosition(t){this._deltaPosition.copyFrom(t)}setDeltaRotation(t){this._deltaRotation||(this._deltaRotation=new o._f),this._deltaRotation.copyFrom(t),this._deltaRotationConjugated=this._deltaRotation.conjugate()}getBoxSizeToRef(t){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().getBoxSizeToRef(this,t),this}getRadius(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getRadius(this):0}syncBoneWithImpostor(t,e,s,i,n){const o=l._TmpVecs[0],r=this.object;if(r.rotationQuaternion)if(n){const s=l._TmpQuat;r.rotationQuaternion.multiplyToRef(n,s),t.setRotationQuaternion(s,c.T.WORLD,e)}else t.setRotationQuaternion(r.rotationQuaternion,c.T.WORLD,e);o.x=0,o.y=0,o.z=0,s&&(o.x=s.x,o.y=s.y,o.z=s.z,t.getDirectionToRef(o,e,o),null==i&&(i=s.length()),o.x*=i,o.y*=i,o.z*=i),t.getParent()?(o.addInPlace(r.getAbsolutePosition()),t.setAbsolutePosition(o,e)):(e.setAbsolutePosition(r.getAbsolutePosition()),e.position.x-=o.x,e.position.y-=o.y,e.position.z-=o.z)}syncImpostorWithBone(t,e,s,i,n,o){const r=this.object;if(r.rotationQuaternion)if(n){const s=l._TmpQuat;t.getRotationQuaternionToRef(c.T.WORLD,e,s),s.multiplyToRef(n,r.rotationQuaternion)}else t.getRotationQuaternionToRef(c.T.WORLD,e,r.rotationQuaternion);const a=l._TmpVecs[0],h=l._TmpVecs[1];o||((o=l._TmpVecs[2]).x=0,o.y=1,o.z=0),t.getDirectionToRef(o,e,h),t.getAbsolutePositionToRef(e,a),null==i&&s&&(i=s.length()),null!=i&&(a.x+=h.x*i,a.y+=h.y*i,a.z+=h.z*i),r.setAbsolutePosition(a)}}l.DEFAULT_OBJECT_SIZE=new o.P(1,1,1),l.IDENTITY_QUATERNION=o._f.Identity(),l._TmpVecs=n.B.BuildArray(3,o.P.Zero),l._TmpQuat=o._f.Identity(),l.NoImpostor=0,l.SphereImpostor=1,l.BoxImpostor=2,l.PlaneImpostor=3,l.MeshImpostor=4,l.CapsuleImpostor=6,l.CylinderImpostor=7,l.ParticleImpostor=8,l.HeightmapImpostor=9,l.ConvexHullImpostor=10,l.CustomImpostor=100,l.RopeImpostor=101,l.ClothImpostor=102,l.SoftbodyImpostor=103},7504:(t,e,s)=>{s.d(e,{$Q:()=>o,OT:()=>a,mN:()=>n,q7:()=>i,yr:()=>r});class i{constructor(t,e){this.type=t,this.jointData=e,e.nativeParams=e.nativeParams||{}}get physicsJoint(){return this._physicsJoint}set physicsJoint(t){this._physicsJoint,this._physicsJoint=t}set physicsPlugin(t){this._physicsPlugin=t}executeNativeFunction(t){t(this._physicsPlugin.world,this._physicsJoint)}}i.DistanceJoint=0,i.HingeJoint=1,i.BallAndSocketJoint=2,i.WheelJoint=3,i.SliderJoint=4,i.PrismaticJoint=5,i.UniversalJoint=6,i.Hinge2Joint=i.WheelJoint,i.PointToPointJoint=8,i.SpringJoint=9,i.LockJoint=10;class n extends i{constructor(t){super(i.DistanceJoint,t)}updateDistance(t,e){this._physicsPlugin.updateDistanceJoint(this,t,e)}}class o extends i{constructor(t,e){super(t,e)}setMotor(t,e){this._physicsPlugin.setMotor(this,t||0,e)}setLimit(t,e){this._physicsPlugin.setLimit(this,t,e)}}class r extends o{constructor(t){super(i.HingeJoint,t)}setMotor(t,e){this._physicsPlugin.setMotor(this,t||0,e)}setLimit(t,e){this._physicsPlugin.setLimit(this,t,e)}}class a extends o{constructor(t){super(i.Hinge2Joint,t)}setMotor(t,e,s=0){this._physicsPlugin.setMotor(this,t||0,e,s)}setLimit(t,e,s=0){this._physicsPlugin.setLimit(this,t,e,s)}}},3135:(t,e,s)=>{var i=s(3127);s(3476),s(8380);i.v.ShadersStore.colorPixelShader="#if defined(VERTEXCOLOR) || defined(INSTANCESCOLOR) && defined(INSTANCES)\n#define VERTEXCOLOR\nvarying vec4 vColor;\n#else\nuniform vec4 color;\n#endif\n#include<clipPlaneFragmentDeclaration>\n#define CUSTOM_FRAGMENT_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_FRAGMENT_MAIN_BEGIN\n#include<clipPlaneFragment>\n#if defined(VERTEXCOLOR) || defined(INSTANCESCOLOR) && defined(INSTANCES)\ngl_FragColor=vColor;\n#else\ngl_FragColor=color;\n#endif\n#define CUSTOM_FRAGMENT_MAIN_END\n}"},6789:(t,e,s)=>{var i=s(3127);s(1041),s(3652),s(2475),s(3816),s(7154),s(6886),s(4120),s(1252),s(9380);i.v.ShadersStore.colorVertexShader="attribute vec3 position;\n#ifdef VERTEXCOLOR\nattribute vec4 color;\n#endif\n#include<bonesDeclaration>\n#include<bakedVertexAnimationDeclaration>\n#include<clipPlaneVertexDeclaration>\n#include<instancesDeclaration>\nuniform mat4 viewProjection;\n#ifdef MULTIVIEW\nuniform mat4 viewProjectionR;\n#endif\n#if defined(VERTEXCOLOR) || defined(INSTANCESCOLOR) && defined(INSTANCES)\nvarying vec4 vColor;\n#endif\n#define CUSTOM_VERTEX_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_VERTEX_MAIN_BEGIN\n#include<instancesVertex>\n#include<bonesVertex>\n#include<bakedVertexAnimation>\nvec4 worldPos=finalWorld*vec4(position,1.0);\n#ifdef MULTIVIEW\nif (gl_ViewID_OVR==0u) {\ngl_Position=viewProjection*worldPos;\n} else {\ngl_Position=viewProjectionR*worldPos;\n}\n#else\ngl_Position=viewProjection*worldPos;\n#endif\n#include<clipPlaneVertex>\n#include<vertexColorMixing>\n#define CUSTOM_VERTEX_MAIN_END\n}"}}]);
//# sourceMappingURL=217.babylonBundle.js.map